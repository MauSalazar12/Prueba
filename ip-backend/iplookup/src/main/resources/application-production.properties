#############################################
#       DATABASE CONFIG FOR RAILWAY
#############################################

# Railway injects DATABASE_URL in this format:
# postgresql://user:password@host:port/database

spring.datasource.url=${DATABASE_URL}
spring.datasource.driver-class-name=org.postgresql.Driver

#############################################
#       JPA / HIBERNATE
#############################################

# Automatically create/update tables
spring.jpa.hibernate.ddl-auto=update

# Log SQL (useful for debugging)
spring.jpa.show-sql=true

# PostgreSQL dialect
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

#############################################
#                CORS
#############################################

spring.web.cors.allowed-origins=*
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.web.cors.allowed-headers=*
spring.web.cors.exposed-headers=*

#############################################
#        IP REGISTRY API CONFIG
#############################################

# Your backend already reads ip.api.url and ip.api.key
# We configure them here for production.

ip.api.url=https://api.ipregistry.co/{ip}?key=${IPREGISTRY_KEY}
ip.api.key=${IPREGISTRY_KEY}
